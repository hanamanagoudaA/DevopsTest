<?xml version="1.0" encoding="ISO-8859-1" ?>
<grammar version="1.0" xmlns="http://www.w3.org/2001/06/grammar"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://www.w3.org/2001/06/grammar
                             http://www.w3.org/TR/speech-grammar/grammar.xsd"
 xml:lang="en-US" mode="voice" root="_currency">

<!--
   Copyright 2006 Nuance Communications, Inc.
   All Rights Reserved.

   currency grammar
-->

   <meta name="swirec_word_penalty" content="0.3"/>
   <meta name="swirec_max_speech_duration" content="14000"/>
   <meta name="incompletetimeout" content="1500"/>
   <meta name="swirec_compile_parser" content="1"/>
      
   <rule id="_currency" scope="public">
      <item repeat="0-1" repeat-prob="0.8">
         um
      </item>
      <ruleref uri="#ROOT"/>
      <tag>
             SWI_meaning=ROOT.VALUE;
             SWI_meaning = SWI_meaning.replace(/[ ]+/g, '');
	     SWI_meaning=SWI_meaning.replace (/^0+/, '');
             SWI_scoreDelta = 0;
	     if (SWI_meaning.substr(0,1) == &quot;.&quot;) 
                 SWI_meaning = '0' + SWI_meaning; 
             var numeric = parseFloat (SWI_meaning);
            /* things like 'twelve oh five' can be 12.05 or 1205.00 */
            /* In this case, SWI_meaning is first set to 1205.00 */
             var assume_larger = 0;
             if (ROOT.AMBIG &amp;&amp; numeric &lt; 10000) AMBIGUOUS = 1;
             else AMBIGUOUS=0;
             var mina = SWI_vars.minallowed ? SWI_vars.minallowed : '0';
             var maxa = SWI_vars.maxallowed ? SWI_vars.maxallowed : '999999.99';

             var mine = SWI_vars.minexpected ? SWI_vars.minexpected : '0';
             var maxe = SWI_vars.maxexpected ? SWI_vars.maxexpected : '999999.99';
             mina = parseFloat(mina);
             maxa = parseFloat(maxa);
             mine = parseFloat(mine);
             maxe = parseFloat(maxe);
             if (mina &gt; maxa) SWI_disallow = 1;
             var grana = parseFloat(SWI_vars.granularityallowed);
             var grane = parseFloat(SWI_vars.granularityexpected);
             var larger_disallow =0;
             if (numeric &lt; mina || numeric &gt; maxa ||
                 (grana &amp;&amp; Math.round(100*numeric) % Math.round(100 * grana) != 0)) {
                 if (!AMBIGUOUS) SWI_disallow=1;
		 else larger_disallow = 1;
             }
             if (numeric &lt; mine || numeric &gt; maxe ||
                 (grane &amp;&amp; Math.round(100*numeric) % Math.round(100 * grane) != 0))
                 SWI_scoreDelta=-300;

             /* consider larger of ambiguous if smaller disallowed */
             if (AMBIGUOUS) {
                var smaller_disallow=0;
                var disambig = SWI_vars.disambiguationmode;
                if (disambig &amp;&amp; disambig.match (/^assume_larger$/i))
                  assume_larger = 1;   
                var smaller = numeric/100;
                if (smaller &lt; mina || smaller &gt; maxa || 
		     (grana &amp;&amp; Math.round(100*smaller) % Math.round(100*grana) !=0))
                   smaller_disallow=1;
                if (larger_disallow &amp;&amp; smaller_disallow) 
                    SWI_disallow=1;
                else if ( larger_disallow &amp;&amp; !smaller_disallow ) 
                    numeric = smaller;
                else if (!larger_disallow &amp;&amp; smaller_disallow) 
                    ;
                else {
                    if (!assume_larger) numeric = smaller;
                }
                if (numeric == smaller) {
                    SWI_meaning = numeric.toString();
                    if (numeric * 10 % 1 == 0) SWI_meaning += '0' ;
                    if (numeric &lt; mine || numeric &gt; maxe ||
                      (grane &amp;&amp; Math.round(100*numeric) % Math.round(100 * grane) != 0))
                       SWI_scoreDelta=-300;
                    else SWI_scoreDelta=0;
                }
            }
            SWI_meaning=ROOT.CODE + SWI_meaning;
            dm_root=SWI_meaning;
      </tag>
   </rule>
   <!--
        
           This subgrammar represents natural numbers from 0 to 999,999,999             #
           note that only "zero" is allowed for the number 0 although "oh" is        #
           allowed in other places like "five oh four"                               #
           It represents larger magnitude numbers in terms of smaller magnitude      #
           components. For example, we represent three digit numbers with the        #
           non_terminal $HUNDREDS. Numbers like                                      #
           two thousand three hundred forty five (2,345) are composed as             #
           $THOUSAND_COUNTER thousand $HUNDREDS, where the $THOUSAND_COUNTER         #
           represents "two" and $HUNDREDS represents three hundred forty five.
           [Note: we actually don't use THOUSAND_COUNTER but break it up into two    #
            subtypes for purposes of padding the VALUE properly,                     #
            as described in the THOUSANDS section below
           Variants using words like "and" (as in "three hundred and forty five")and #
           "a", as in "a hundred and ten" are included as well.                      #
           Four forms of natural numbers are supported:                               #
            a) "formal" natural numbers, in which words like "hundred" and "thousand"#
                are used, e.g., two hundred twenty five                              #
            b) "colloquial" natural numbers, where they are implied, e.g.,           #
                "two twenty five".                                                   #
            c) "decimal", like "one point two million"; this is only supported for
                millions and up to two decimal points can be given
            d) "fractional", "one and a half million"; this is the only one supported #
          
           One key feature of the grammar is heavy use of run_time classes to        #
           distinguish the same word being used in two different places in the grammar,
           for instance "three" as in "three hundred" is given a different class than #
           "three" as in "twenty three". There are two purposes to this.             #
            1) It constrains the forward search more than a raw word_pair grammar    #
               would.  In particular, if we did not use                              #
               different non_terminals, the forward search would admit things like   #
               "three hundred three hundred three hundred ..." since "three" can     #
               follow "hundred" in "one hundred three".                              #
          
            2) It allows the bigram to represent things more precisely; e.g.,        #
               the probability of going from the start state to the "two" in         #
               "two million" will be less than going to the "two" in "tho hundred"   #
               if numbers in the millions are much rarer.                            #
                                                                                     #
           The runtime class notation is as follows:                                 #
           Classes are of form FORM_NAT_<LIT_CLASS>_<ROLE> where
           <LIT_CLASS> is the class of literals represented. These include           #
           ZERO[zero, oh], ONES [one, two .., nine], TEEN[ten .. nineteen],
           TENS[twenty .. ninety], A (a), AND (and), HUNDRED (hundred). The final three
           are given run_time classes since they can occur at different points in the #
           utterance (e.g., one hundred thousand one hundred.                        #
          
           <ROLE> is one of:                                                         #
             B: below hundred (e.g., FORM_NAT_ONES_B represents the one in a number  #
                like "two hundred and one "                                          #
             H: hundreds counter (the "two" in two hundred and one)                  #
            TB: thousands counter (the "two" in "two thousand")                      #
            TH: hundred thousands counter (the "two" in "two hundred thousand"       #
            MB: millions counter (the "two" in two million)                          #
            MH: hundred million counter (the "two" in two hundred million)           #
          
          ############################################################################
          RUNTIME_CLASSES = $FORM_NAT_ZERO_B;
          RUNTIME_CLASSES = $FORM_NAT_HUNDRED_H $FORM_NAT_AND_H $FORM_NAT_A_H;
          RUNTIME_CLASSES = $FORM_NAT_ZERO_H;
          RUNTIME_CLASSES = $FORM_NAT_TEN_H;
          RUNTIME_CLASSES = $FORM_NAT_A_T $FORM_NAT_A_TH
          RUNTIME_CLASSES = $FORM_NAT_HUNDRED_TH $FORM_NAT_AND_TH;
          RUNTIME_CLASSES = $FORM_NAT_ZERO_TB;
          RUNTIME_CLASSES = $FORM_NAT_ONES_MB $FORM_NAT_TEEN_MB $FORM_NAT_TENS_MB;
          RUNTIME_CLASSES = $FORM_NAT_A_MH $FORM_NAT_A_M $FORM_NAT_AND_MH;
          RUNTIME_CLASSES = $FORM_NAT_HUNDRED_MH
          RUNTIME_CLASSES = $FORM_NAT_ONES_MH;
          RUNTIME_CLASSES = $FORM_NAT_DEC_M1 $FORM_NAT_DEC_M2;
          RUNTIME_CLASSES = $ZERO;
          
   -->
      
   <rule id="FORM_NATNUM">
      <one-of>
         <item>
            <ruleref uri="#THOUSANDS"/>
            <tag> VALUE=THOUSANDS.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#MILLIONS"/>
            <tag> VALUE=MILLIONS.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#ZERO"/>
            <tag> VALUE=ZERO.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE=BELOW_HUNDRED.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#HUNDREDS"/>
            <tag> VALUE=HUNDREDS.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#TWO_DIG_HUNDREDS"/>
            <tag> VALUE=TWO_DIG_HUNDREDS.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ______________________
           I have to split the following three classes up because their values have different padding
          
   -->
      
   <rule id="BELOW_HUNDRED">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_TENS_B"/>
            <tag> VALUE='';
                  try {VALUE+=FORM_NAT_TENS_B.VALUE; } catch(e){} finally {};
                  VALUE+=(' 0');
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_ONES_B"/>
            <tag> VALUE='0 ';
	          try {VALUE+=FORM_NAT_ONES_B.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_B"/>
            <tag> VALUE=FORM_NAT_TEEN_B.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_B"/>
            <tag> _V1_1=FORM_NAT_TENS_B.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_B"/>
            <tag>             _V1_2=FORM_NAT_ONES_B.VALUE; </tag>
            <tag> VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ______________________
          #########################################
          ## hundreds (broken into part and whole #
          ## to avoid ambiguities in currency)    #
          ## e.g., "four hundred twelve"          #
          #########################################
          
   -->
      
   <rule id="HUNDREDS">
      <one-of>
         <item>
            <ruleref uri="#PART_HUNDREDS"/>
            <tag> VALUE=PART_HUNDREDS.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#WHOLE_HUNDREDS"/>
            <tag> VALUE=WHOLE_HUNDREDS.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # In the following, FORM_NAT_AND_H is simply the word "and"
          #                   FORM_NAT_HUNDRED_H is the word hundred
          #                   FORM_NAT_ONES_H is a runtime class for ones that are used in counting hundreds
           "six hundred and forty seven", "a hundred and forty seven"
           "six hundred forty seven", "a hundred forty seven"
           "hundred and forty seven"
           "hundred forty seven"
          
   -->
      
   <rule id="PART_HUNDREDS">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='1 ';
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='1 ';
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER"/>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag>
	          VALUE='';
		  try {VALUE+=HUNDRED_COUNTER.VALUE; } catch(e){} finally {};
		  VALUE += ' ';
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
	    </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER"/>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag>
	           VALUE='';
	           try {VALUE+=HUNDRED_COUNTER.VALUE; } catch(e){} finally {};
	           VALUE += ' ';
	           try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
	    </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
           "six hundred", "a hundred"
           "hundred"
          
   -->
      
   <rule id="WHOLE_HUNDREDS">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <tag> VALUE='1 0 0'; </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER"/>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <tag>
	          VALUE='';
		  try {VALUE+=HUNDRED_COUNTER.VALUE; } catch(e){} finally {};
	          VALUE+=(' 0 0');
	    </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="HUNDRED_COUNTER">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_ONES_H"/>
            <tag> VALUE=FORM_NAT_ONES_H.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_A_H"/>
            <tag> VALUE=FORM_NAT_A_H.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          { $HUNDRED_COUNTER = a;
            VALUE = 1;
          }
          #########################
           TWO_DIG_HUNDREDS are things like fifteen hundred,
           twenty seven hundred but not forty hundred. They are a special class
           because they only get used on their own, not as counters for thousands or
           millions (e.g., we don't say fifteen hundred thousand)
           value padded with 0 to be consistent with THOUSANDS. I break them up
           into whole hundreds and part hundreds to avoid some ambiguities with currency
          
   -->
      
   <rule id="TWO_DIG_HUNDREDS">
      <one-of>
         <item>
            <ruleref uri="#TWO_DIG_PART_HUNDREDS"/>
            <tag> VALUE=TWO_DIG_PART_HUNDREDS.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#TWO_DIG_WHOLE_HUNDREDS"/>
            <tag> VALUE=TWO_DIG_WHOLE_HUNDREDS.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
           "fifteen hundred and forty seven", "twenty seven hundred forty seven"
           "fifteen hundred forty seven"
          
   -->
      
   <rule id="TWO_DIG_PART_HUNDREDS">
      <one-of>
         <item>
            <ruleref uri="#TWO_DIG_HUNDRED_COUNTER"/>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
         </item>
         <item>
            <ruleref uri="#TWO_DIG_HUNDRED_COUNTER"/>
            <ruleref uri="#FORM_NAT_HUNDRED_H"/>
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
         </item>
      </one-of>
      <tag>
           VALUE='0 '; 
	   try {VALUE+=TWO_DIG_HUNDRED_COUNTER.VALUE; } catch(e){} finally {};
           VALUE += ' ';
	   try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
      </tag>
   </rule>
   <!--     "fifteen hundred"  -->
      
   <rule id="TWO_DIG_WHOLE_HUNDREDS">
      <ruleref uri="#TWO_DIG_HUNDRED_COUNTER"/>
      <ruleref uri="#FORM_NAT_HUNDRED_H"/>
      <tag> VALUE='0 ';
            try {VALUE+=TWO_DIG_HUNDRED_COUNTER.VALUE; } catch(e){} finally {};
            VALUE+=(' 0 0');
      </tag>
   </rule>
      
   <rule id="TWO_DIG_HUNDRED_COUNTER">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_H"/>
            <tag> VALUE=FORM_NAT_TEEN_H.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_H"/>
            <tag> _V1_1=FORM_NAT_TENS_H.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_H"/>
            <tag> _V1_2=FORM_NAT_ONES_H.VALUE; </tag>
            <tag> VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ########################################################################
          ## THOUSANDS: Note that the forms with HUNDREDS_T and BELOW_HUNDRED_T ##
          ##            are distinguished for the purposes of padding the value ##
          ##            properly, which is especially important if this is to   ##
          ##            be embedded into millions                               ##
          ########################################################################
          
   -->
      
   <rule id="THOUSANDS">
      <one-of>
         <item>
            <ruleref uri="#THOUSANDS_PART_H"/>
            <tag> VALUE=THOUSANDS_PART_H.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#THOUSANDS_WHOLE_H"/>
            <tag> VALUE=THOUSANDS_WHOLE_H.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # "six hundred forty seven thousand two hundred and twelve",
          # "six hundred thousand two hundred and twelve",
          # "six hundred thousand two hundred", etc.
          # "forty seven thousand two hundred and twelve",
          # "forty seven thousand two hundred", etc.
          # "six hundred forty seven thousand and twelve
          # "six hundred forty seven thousand twelve"
          # "forty seven thousand and twelve"
          # "forty seven thousand twelve"
          # "thousand and twelve"
          # "thousand twelve"
          
   -->
      
   <rule id="THOUSANDS_PART_H">
      <one-of>
         <item>
            thousand 
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='0 0 1 0 ';
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            thousand 
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='0 0 1 0 ';
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            thousand 
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='0 ';
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
                  VALUE+=(' 0 ');
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            thousand 
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='0 ';
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
                  VALUE+=(' 0 ');
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDREDS_T"/>
            thousand 
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='';
                  try {VALUE+=HUNDREDS_T.VALUE; } catch(e){} finally {};
                  VALUE+=(' 0 ');
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDREDS_T"/>
            thousand 
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='';
                  try {VALUE+=HUNDREDS_T.VALUE; } catch(e){} finally {};
                  VALUE+=(' 0 ');
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            thousand 
            <ruleref uri="#PART_HUNDREDS"/>
            <tag> VALUE='0 ';
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
                  VALUE += ' ';
                  try {VALUE+=PART_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDREDS_T"/>
            thousand 
            <ruleref uri="#PART_HUNDREDS"/>
            <tag> VALUE='';
                  try {VALUE+=HUNDREDS_T.VALUE; } catch(e){} finally {};
                  VALUE += ' ';
                  try {VALUE+=PART_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # "thousand two hundred twelve", "thousand two hundred", etc.
          # "six hundred forty seven thousand"
          # "forty seven thousand"
          # "thousand"
          # "a thousand"
          
   -->
      
   <rule id="THOUSANDS_WHOLE_H">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_A_T"/>
            thousand 
            <tag> VALUE='0 0 1 0 0 0'; </tag>
         </item>
         <item>
            thousand 
            <tag> VALUE='0 0 1 0 0 0'; </tag>
         </item>
         <item>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            thousand 
            <tag> VALUE='0 ';
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0');
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDREDS_T"/>
            thousand 
            <tag> VALUE=''
                  try {VALUE+=HUNDREDS_T.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0'); 
            </tag>
         </item>
         <item>
            thousand 
            <ruleref uri="#WHOLE_HUNDREDS"/>
            <tag> VALUE='0 0 1 '
                  try {VALUE+=WHOLE_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            thousand 
            <ruleref uri="#PART_HUNDREDS"/>
            <tag> VALUE='0 0 1 '
                  try {VALUE+=PART_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            thousand 
            <ruleref uri="#WHOLE_HUNDREDS"/>
            <tag> VALUE='0 '
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=WHOLE_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDREDS_T"/>
            thousand 
            <ruleref uri="#WHOLE_HUNDREDS"/>
            <tag> VALUE=''
                  try {VALUE+=HUNDREDS_T.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=WHOLE_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #########################################################################
          ## I am replicating the hundreds grammar here but labelling it with a T
          ## to denote its role as a "thousand" counter
          #######################################################################
          
   -->
      
   <rule id="HUNDREDS_T">
      <one-of>
         <item>
            <ruleref uri="#PART_HUNDREDS_T"/>
            <tag> VALUE=PART_HUNDREDS_T.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#WHOLE_HUNDREDS_T"/>
            <tag> VALUE=WHOLE_HUNDREDS_T.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # In the following, FORM_NAT_AND_H is simply the word "and"
          #                   FORM_NAT_HUNDRED_H is the word hundred
          #                   FORM_NAT_ONES_H is a runtime class for ones that are used in counting hundreds
           "six hundred and forty seven (as in six hundred and forty seven thousand)"
           "six hundred forty seven (as in six hundred forty seven thousand)"
           "hundred and forty seven (as in hundred hundred and forty seven thousand)"
           "hundred forty seven (as in hundred hundred forty seven thousand)"
          
   -->
      
   <rule id="PART_HUNDREDS_T">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_TH"/>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            <tag> VALUE='1 '
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_TH"/>
            <ruleref uri="#FORM_NAT_AND_TH"/>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            <tag> VALUE='1 '
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER_TH"/>
            <ruleref uri="#FORM_NAT_HUNDRED_TH"/>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            <tag> VALUE=''
                  try {VALUE+=HUNDRED_COUNTER_TH.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER_TH"/>
            <ruleref uri="#FORM_NAT_HUNDRED_TH"/>
            <ruleref uri="#FORM_NAT_AND_TH"/>
            <ruleref uri="#BELOW_HUNDRED_T"/>
            <tag> VALUE=''
                  try {VALUE+=HUNDRED_COUNTER_TH.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
           "six hundred" (as in six hundred thousand)
           "hundred" as in hundred thousand
          
   -->
      
   <rule id="WHOLE_HUNDREDS_T">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_TH"/>
            <tag> VALUE='1 0 0'; </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER_TH"/>
            <ruleref uri="#FORM_NAT_HUNDRED_TH"/>
            <tag> VALUE=''
                  try {VALUE+=HUNDRED_COUNTER_TH.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0'); 
            </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="HUNDRED_COUNTER_TH">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_ONES_TH"/>
            <tag> VALUE=FORM_NAT_ONES_TH.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_A_TH"/>
            <tag> VALUE=FORM_NAT_A_TH.VALUE; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="BELOW_HUNDRED_T">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_TENS_TB"/>
            <tag> VALUE=''
                  try {VALUE+=FORM_NAT_TENS_TB.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0'); 
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_ONES_TB"/>
            <tag> VALUE='0 '
                  try {VALUE+=FORM_NAT_ONES_TB.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_TB"/>
            <tag> VALUE=FORM_NAT_TEEN_TB.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_TB"/>
            <tag> _V1_1=FORM_NAT_TENS_TB.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_TB"/>
            <tag> _V1_2=FORM_NAT_ONES_TB.VALUE; </tag>
            <tag> VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ##############
          ## MILLIONS ##
          ##############
          
   -->
      
   <rule id="MILLIONS">
      <one-of>
         <item>
            <ruleref uri="#MILLIONS_PART_H"/>
            <tag> VALUE=MILLIONS_PART_H.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#MILLIONS_WHOLE_H"/>
            <tag> VALUE=MILLIONS_WHOLE_H.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # "six hundred forty seven million two hundred twelve thousand five hundred
          #  and forty two"
          # "million two hundred twelve thousand five hundred and forty two"
          # "six hundred forty seven million five hundred and forty two"
          # "million five hundred and forty two"
          # "six hundred forty seven million and forty two"
          # "six hundred forty seven million forty two"
          # "million and forty two"
          # "million forty two"
          
   -->
      
   <rule id="MILLIONS_PART_H">
      <one-of>
         <item>
            million 
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='1 0 0 0 0 '
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            million 
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE='1 0 0 0 0 '
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            million 
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0 0 ')
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            million 
            <ruleref uri="#FORM_NAT_AND_H"/>
            <ruleref uri="#BELOW_HUNDRED"/>
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0 0 ')
                  try {VALUE+=BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            million 
            <ruleref uri="#PART_HUNDREDS"/>
            <tag> VALUE='1 0 0 0 '
                  try {VALUE+=PART_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            million 
            <ruleref uri="#PART_HUNDREDS"/>
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0 ')
                  try {VALUE+=PART_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            million 
            <ruleref uri="#THOUSANDS_PART_H"/>
            <tag> VALUE='1 '
                  try {VALUE+=THOUSANDS_PART_H.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            million 
            <ruleref uri="#THOUSANDS_PART_H"/>
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=THOUSANDS_PART_H.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # "six hundred forty seven million"
          # "million"
          
   -->
      
   <rule id="MILLIONS_WHOLE_H">
      <one-of>
         <item>
            million 
            <tag> VALUE='1 0 0 0 0 0 0'; </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            million 
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0 0 0 0'); 
            </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            million 
            <ruleref uri="#WHOLE_HUNDREDS"/>
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0 ')
                  try {VALUE+=WHOLE_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            million 
            <ruleref uri="#THOUSANDS_WHOLE_H"/>
            <tag> VALUE='1 '
                  try {VALUE+=THOUSANDS_WHOLE_H.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            million 
            <ruleref uri="#THOUSANDS_WHOLE_H"/>
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=THOUSANDS_WHOLE_H.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #####
          # "a" as in a million
          
   -->
      
   <rule id="MILLION_COUNTER">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_A_M"/>
            <tag> VALUE='1'; </tag>
         </item>
         <item>
            <ruleref uri="#HUNDREDS_M"/>
            <tag> VALUE=HUNDREDS_M.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#BELOW_HUNDRED_M"/>
            <tag> VALUE=BELOW_HUNDRED_M.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ## I am replicating the hundreds grammar here but labelling it with M
          ## to denote its role as a "thousand" counter
          
   -->
      
   <rule id="HUNDREDS_M">
      <one-of>
         <item>
            <ruleref uri="#PART_HUNDREDS_M"/>
            <tag> VALUE=PART_HUNDREDS_M.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#WHOLE_HUNDREDS_M"/>
            <tag> VALUE=WHOLE_HUNDREDS_M.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # In the following, FORM_NAT_AND_H is simply the word "and"
          #                   FORM_NAT_HUNDRED_H is the word hundred
          #                   FORM_NAT_ONES_H is a runtime class for ones that are used in counting hundreds
           "six hundred and forty seven (as in six hundred and forty seven million)"
           "six hundred forty seven (as in six hundred forty seven million)"
          
   -->
      
   <rule id="PART_HUNDREDS_M">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_MH"/>
            <ruleref uri="#BELOW_HUNDRED_M"/>
            <tag> VALUE='1 '
                  try {VALUE+=BELOW_HUNDRED_M.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_MH"/>
            <ruleref uri="#FORM_NAT_AND_MH"/>
            <ruleref uri="#BELOW_HUNDRED_M"/>
            <tag> VALUE='1 '
                  try {VALUE+=BELOW_HUNDRED_M.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER_MH"/>
            <ruleref uri="#FORM_NAT_HUNDRED_MH"/>
            <ruleref uri="#BELOW_HUNDRED_M"/>
            <tag> VALUE=''
                  try {VALUE+=HUNDRED_COUNTER_MH.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=BELOW_HUNDRED_M.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER_MH"/>
            <ruleref uri="#FORM_NAT_HUNDRED_MH"/>
            <ruleref uri="#FORM_NAT_AND_MH"/>
            <ruleref uri="#BELOW_HUNDRED_M"/>
            <tag> VALUE=''
                  try {VALUE+=HUNDRED_COUNTER_MH.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=BELOW_HUNDRED_M.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="WHOLE_HUNDREDS_M">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_HUNDRED_MH"/>
            <tag> VALUE='1 0 0'; </tag>
         </item>
         <item>
            <ruleref uri="#HUNDRED_COUNTER_MH"/>
            <ruleref uri="#FORM_NAT_HUNDRED_MH"/>
            <tag> VALUE=''
                  try {VALUE+=HUNDRED_COUNTER_MH.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0'); 
            </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="HUNDRED_COUNTER_MH">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_ONES_MH"/>
            <tag> VALUE=FORM_NAT_ONES_MH.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_A_MH"/>
            <tag> VALUE=FORM_NAT_A_MH.VALUE; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="BELOW_HUNDRED_M">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_TENS_MB"/>
            <tag> VALUE=''
                  try {VALUE+=FORM_NAT_TENS_MB.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0'); 
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_ONES_MB"/>
            <tag> VALUE='0 '
                  try {VALUE+=FORM_NAT_ONES_MB.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_MB"/>
            <tag> VALUE=FORM_NAT_TEEN_MB.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_MB"/>
            <tag> _V1_1=FORM_NAT_TENS_MB.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_MB"/>
            <tag> _V1_2=FORM_NAT_ONES_MB.VALUE; </tag>
            <tag>VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ###############################
          ## COLLOQUIAL NATURAL NUMBERS #
          ###############################
          # This does not include BELOW_HUNDRED since that is taken care of by
          # form_natnum. It doesn't allow COLLOQ_BELOW_HUNDRED like oh four since people
          # don't say stuff like that
          # COLLOQ_NATNUM is a "parallel" grammar to FORM_NATNUM, which assumes that
          # numbers are broken into three_digit sequences, with an exception made for
          # things like "forty two twenty three = 4223".
          # So numbers with four to six digits (100000 to 999999) are expressed
          # as some number of thousands and a remainder. The "some number of thousands"
          # is virtually the same grammmar as the remainder.  So for example,
          # 123456 in this style would be spoken "one twenty three four fifty six"
          # in colloquial form
          # and "one hundred twenty three thousand four hundred fifty six" in formal form
          # More idiosyncatic ways of breaking things up are not covered, for example
          # you can't say twelve thirty four fifty six for 123456.
          # Also, COLLOQ_NATNUM won't cover things like  "one oh four".That would
          # be covered by a digits style for natural numbers. It puts some other
          # constraints on how people can say numbers.
          ####################################################################
          ############################################
          
   -->
      
   <rule id="COLLOQ_NATNUM">
      <one-of>
         <item>
            <ruleref uri="#COLLOQ_HUNDREDS"/>
            <tag> VALUE=COLLOQ_HUNDREDS.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#COLLOQ_TWO_DIG_HUNDREDS"/>
            <tag> VALUE=COLLOQ_TWO_DIG_HUNDREDS.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #################################################################
          # COLLOQ_THOSANDS like forty two five fifty two are not used much,
          # and probably rarely with currencies so will be turned off. This will
          # generate some warnings about non_terminals not visited
          ####################################################################
           $COLLOQ_NATNUM = $COLLOQ_THOUSANDS;
          
   -->
      
   <rule id="COLLOQ_HUNDREDS">
      <ruleref uri="#COLLOQ_HUNDRED_COUNTER"/>
      <ruleref uri="#COLLOQ_BELOW_HUNDRED"/>
      <tag> VALUE=''
            try {VALUE+=COLLOQ_HUNDRED_COUNTER.VALUE; } catch(e){} finally {}
            VALUE += ' '
            try {VALUE+=COLLOQ_BELOW_HUNDRED.VALUE; } catch(e){} finally {};
      </tag>
   </rule>
      
   <rule id="COLLOQ_HUNDRED_COUNTER">
      <ruleref uri="#FORM_NAT_ONES_H"/>
      <tag> VALUE=FORM_NAT_ONES_H.VALUE; </tag>
   </rule>
   <!--
        
          # "fifteen", "forty three"
          # "oh three"
          
   -->
      
   <rule id="COLLOQ_BELOW_HUNDRED">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_TENS_B"/>
            <tag> VALUE=''
                  try {VALUE+=FORM_NAT_TENS_B.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0'); 
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_ZERO_B"/>
            <ruleref uri="#FORM_NAT_ONES_B"/>
            <tag> VALUE='0 '
                  try {VALUE+=FORM_NAT_ONES_B.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_B"/>
            <tag> VALUE=FORM_NAT_TEEN_B.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_B"/>
            <tag> _V1_1=FORM_NAT_TENS_B.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_B"/>
            <tag> _V1_2=FORM_NAT_ONES_B.VALUE; </tag>
            <tag>VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #########################
           COLLOQ_TWO_DIG_HUNDREDS are things like twelve twenty, forty twenty,
           forty sevven twenty, etc.
           They are a special class
           because they only get used on their own, not as counters for thousands or
           millions (e.g., we don't say fifteen hundred thousand)
          ##################
          
   -->
      
   <rule id="COLLOQ_TWO_DIG_HUNDREDS">
      <ruleref uri="#COLLOQ_TWO_DIG_HUNDRED_COUNTER"/>
      <ruleref uri="#COLLOQ_BELOW_HUNDRED"/>
      <tag> VALUE='0 '
            try {VALUE+=COLLOQ_TWO_DIG_HUNDRED_COUNTER.VALUE; } catch(e){} finally {}
            VALUE += ' '
            try {VALUE+=COLLOQ_BELOW_HUNDRED.VALUE; } catch(e){} finally {};
      </tag>
   </rule>
   <!--    # Note that TENS are allowed here, unlike formal natnum  -->
      
   <rule id="COLLOQ_TWO_DIG_HUNDRED_COUNTER">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_TENS_H"/>
            <tag> VALUE=''
                  try {VALUE+=FORM_NAT_TENS_H.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0'); 
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_H"/>
            <tag> VALUE=FORM_NAT_TEEN_H.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEN_H"/>
            <tag> VALUE=FORM_NAT_TEN_H.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_H"/>
            <tag> _V1_1=FORM_NAT_TENS_H.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_H"/>
            <tag> _V1_2=FORM_NAT_ONES_H.VALUE; </tag>
            <tag>VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #########################
          ##############
          ## thousands #
          ##############
          # "five twenty five two seventy three"
          # "five twenty five oh seventy three"
          
   -->
      
   <rule id="COLLOQ_THOUSANDS">
      <one-of>
         <item>
            <ruleref uri="#COLLOQ_THOUSAND_COUNTER"/>
            <ruleref uri="#FORM_NAT_ZERO_H"/>
            <ruleref uri="#COLLOQ_BELOW_HUNDRED"/>
            <tag> VALUE=''
                  try {VALUE+=COLLOQ_THOUSAND_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 ')
                  try {VALUE+=COLLOQ_BELOW_HUNDRED.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#COLLOQ_THOUSAND_COUNTER"/>
            <ruleref uri="#COLLOQ_HUNDREDS"/>
            <tag> VALUE=''
                  try {VALUE+=COLLOQ_THOUSAND_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=COLLOQ_HUNDREDS.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # Don't allow ones in the thousand counter.
          # Disallow, for example, "one two ten". It does not sound right
          # On the other hand, allow "one twenty five two ten"",
          #                          "forty three two ten", "fifteen two ten"
          
   -->
      
   <rule id="COLLOQ_THOUSAND_COUNTER">
      <one-of>
         <item>
            <ruleref uri="#COLLOQ_HUNDREDS_T"/>
            <tag> VALUE=COLLOQ_HUNDREDS_T.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_TB"/>
            <tag> VALUE=FORM_NAT_TEEN_TB.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_TB"/>
            <tag> _V1_1=FORM_NAT_TENS_TB.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_TB"/>
            <tag> _V1_2=FORM_NAT_ONES_TB.VALUE; </tag>
            <tag>VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="COLLOQ_HUNDREDS_T">
      <ruleref uri="#COLLOQ_HUNDRED_COUNTER_TH"/>
      <ruleref uri="#COLLOQ_BELOW_HUNDRED_T"/>
      <tag> VALUE=''
            try {VALUE+=COLLOQ_HUNDRED_COUNTER_TH.VALUE; } catch(e){} finally {}
            VALUE += ' '
            try {VALUE+=COLLOQ_BELOW_HUNDRED_T.VALUE; } catch(e){} finally {};
      </tag>
   </rule>
      
   <rule id="COLLOQ_HUNDRED_COUNTER_TH">
      <ruleref uri="#FORM_NAT_ONES_TH"/>
      <tag> VALUE=FORM_NAT_ONES_TH.VALUE; </tag>
   </rule>
   <!--
        
          # "fifteen", "forty three"
          # "oh three"
          
   -->
      
   <rule id="COLLOQ_BELOW_HUNDRED_T">
      <one-of>
         <item>
            <ruleref uri="#FORM_NAT_TENS_TB"/>
            <tag> VALUE=''
                  try {VALUE+=FORM_NAT_TENS_TB.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0'); 
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_ZERO_TB"/>
            <ruleref uri="#FORM_NAT_ONES_TB"/>
            <tag> VALUE='0 '
                  try {VALUE+=FORM_NAT_ONES_TB.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TEEN_TB"/>
            <tag> VALUE=FORM_NAT_TEEN_TB.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#FORM_NAT_TENS_TB"/>
            <tag> _V1_1=FORM_NAT_TENS_TB.VALUE; </tag>
            <ruleref uri="#FORM_NAT_ONES_TB"/>
            <tag> _V1_2=FORM_NAT_ONES_TB.VALUE; </tag>
            <tag>VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ############################
          # If you uncomment the following lines, you will allow "twenty two ten" to be
          # interpreted as 20210. This will be an ambiguous path since the
          # non_terminal $COLLOQ_TWO_DIG_HUNDREDS interprets this as 2210
          {
          
          { $COLLOQ_THOUSAND_COUNTER = $FORM_NAT_TENS_TB;
            VALUE = $FORM_NAT_TENS_TB 0;
          }
          ############################
          ################################################################
           DECIMAL NATURAL NUMBERS                                       #
             These handle things like one point three million. Note that #
             it will also allow things like one point oh zero million    #
          ################################################################
          
   -->
      
   <rule id="DECIMAL_NATNUM">
      <ruleref uri="#DECIMAL_MILLIONS"/>
      <tag> VALUE=DECIMAL_MILLIONS.VALUE; </tag>
   </rule>
   <!--
        
          # "fifty seven point two million"
          # "fifty seven point two three million"
          
   -->
      
   <rule id="DECIMAL_MILLIONS">
      <one-of>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            point 
            <ruleref uri="#FORM_NAT_DEC_M1"/>
            <ruleref uri="#FORM_NAT_DEC_M2"/>
            million 
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=FORM_NAT_DEC_M1.VALUE; } catch(e){} finally {}
                  VALUE += ' ';            try {VALUE+=FORM_NAT_DEC_M2.VALUE; } catch(e){} finally {};
                  VALUE+=(' 0 0 0 0'); 
            </tag>
         </item>
         <item>
            <ruleref uri="#MILLION_COUNTER"/>
            point 
            <ruleref uri="#FORM_NAT_DEC_M1"/>
            million 
            <tag> VALUE=''
                  try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
                  VALUE += ' '
                  try {VALUE+=FORM_NAT_DEC_M1.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0 0 0 0 0'); 
            </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ################################################################
           FRACTIONAL NATURAL NUMBERS                                    #
             This handles one and a half million                         #
          ################################################################
          
   -->
      
   <rule id="FRACTIONAL_NATNUM">
      <ruleref uri="#FRACTIONAL_MILLIONS"/>
      <tag> VALUE=FRACTIONAL_MILLIONS.VALUE; </tag>
   </rule>
   <!--    # "one and a half million"  -->
      
   <rule id="FRACTIONAL_MILLIONS">
      <ruleref uri="#MILLION_COUNTER"/>
      and_a_half million 
      <tag> VALUE=''
            try {VALUE+=MILLION_COUNTER.VALUE; } catch(e){} finally {}
            VALUE+=(' 5 0 0 0 0 0'); 
      </tag>
   </rule>
   <!--
        
          ###############
          # LITERALS ####
          ###############
          #################
          # Below hundred #
          #################
          
   -->
      
   <rule id="FORM_NAT_TEEN_B">
      <one-of>
         <item>
            nineteen 
            <tag> VALUE='19'; </tag>
         </item>
         <item>
            eighteen 
            <tag> VALUE='18'; </tag>
         </item>
         <item>
            seventeen 
            <tag> VALUE='17'; </tag>
         </item>
         <item>
            sixteen 
            <tag> VALUE='16'; </tag>
         </item>
         <item>
            fifteen 
            <tag> VALUE='15'; </tag>
         </item>
         <item>
            fourteen 
            <tag> VALUE='14'; </tag>
         </item>
         <item>
            thirteen 
            <tag> VALUE='13'; </tag>
         </item>
         <item>
            twelve 
            <tag> VALUE='12'; </tag>
         </item>
         <item>
            eleven 
            <tag> VALUE='11'; </tag>
         </item>
         <item>
            ten 
            <tag> VALUE='10'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_TENS_B">
      <one-of>
         <item>
            ninety 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eighty 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seventy 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            sixty 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            fifty 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            forty 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            thirty 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            twenty 
            <tag> VALUE='2'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_ONES_B">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_ZERO_B">
      <one-of>
         <item>
            zero 
            <tag> VALUE='zero'; </tag>
         </item>
         <item>
            oh 
            <tag> VALUE='oh'; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ######################
          # Hundreds counters ##
          ######################
          
   -->
      
   <rule id="FORM_NAT_HUNDRED_H">
      <item>hundred</item>
      <tag> VALUE='hundred'; </tag>
   </rule>
      
   <rule id="FORM_NAT_AND_H">
      <item>and</item>
      <tag> VALUE='and'; </tag>
   </rule>
      
   <rule id="FORM_NAT_A_H">
      <item>a</item>
      <tag> VALUE='1'; </tag>
   </rule>
      
   <rule id="FORM_NAT_ONES_H">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_TEN_H">
      <item>ten</item>
      <tag> VALUE='10'; </tag>
   </rule>
      
   <rule id="FORM_NAT_TEEN_H">
      <one-of>
         <item>
            nineteen 
            <tag> VALUE='19'; </tag>
         </item>
         <item>
            eighteen 
            <tag> VALUE='18'; </tag>
         </item>
         <item>
            seventeen 
            <tag> VALUE='17'; </tag>
         </item>
         <item>
            sixteen 
            <tag> VALUE='16'; </tag>
         </item>
         <item>
            fifteen 
            <tag> VALUE='15'; </tag>
         </item>
         <item>
            fourteen 
            <tag> VALUE='14'; </tag>
         </item>
         <item>
            thirteen 
            <tag> VALUE='13'; </tag>
         </item>
         <item>
            twelve 
            <tag> VALUE='12'; </tag>
         </item>
         <item>
            eleven 
            <tag> VALUE='11'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_TENS_H">
      <one-of>
         <item>
            ninety 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eighty 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seventy 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            sixty 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            fifty 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            forty 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            thirty 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            twenty 
            <tag> VALUE='2'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_ZERO_H">
      <one-of>
         <item>
            zero 
            <tag> VALUE='zero'; </tag>
         </item>
         <item>
            oh 
            <tag> VALUE='oh'; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #####################################
          # Counters for hundreds of thousands #
          #####################################
          
   -->
      
   <rule id="FORM_NAT_A_TH">
      <item>a</item>
      <tag> VALUE='1'; </tag>
   </rule>
      
   <rule id="FORM_NAT_A_T">
      <item>a</item>
      <tag> VALUE='1'; </tag>
   </rule>
      
   <rule id="FORM_NAT_AND_TH">
      <item>and</item>
      <tag> VALUE='and'; </tag>
   </rule>
      
   <rule id="FORM_NAT_HUNDRED_TH">
      <item>hundred</item>
      <tag> VALUE='hundred'; </tag>
   </rule>
      
   <rule id="FORM_NAT_ONES_TH">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ###########################
          # Counters for thousands ##
          ###########################
          
   -->
      
   <rule id="FORM_NAT_ONES_TB">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_ZERO_TB">
      <one-of>
         <item>
            zero 
            <tag> VALUE='zero'; </tag>
         </item>
         <item>
            oh 
            <tag> VALUE='oh'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_TEEN_TB">
      <one-of>
         <item>
            nineteen 
            <tag> VALUE='19'; </tag>
         </item>
         <item>
            eighteen 
            <tag> VALUE='18'; </tag>
         </item>
         <item>
            seventeen 
            <tag> VALUE='17'; </tag>
         </item>
         <item>
            sixteen 
            <tag> VALUE='16'; </tag>
         </item>
         <item>
            fifteen 
            <tag> VALUE='15'; </tag>
         </item>
         <item>
            fourteen 
            <tag> VALUE='14'; </tag>
         </item>
         <item>
            thirteen 
            <tag> VALUE='13'; </tag>
         </item>
         <item>
            twelve 
            <tag> VALUE='12'; </tag>
         </item>
         <item>
            eleven 
            <tag> VALUE='11'; </tag>
         </item>
         <item>
            ten 
            <tag> VALUE='10'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_TENS_TB">
      <one-of>
         <item>
            ninety 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eighty 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seventy 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            sixty 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            fifty 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            forty 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            thirty 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            twenty 
            <tag> VALUE='2'; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #####################################
          # Counters for hundreds of millions #
          #####################################
          
   -->
      
   <rule id="FORM_NAT_A_MH">
      <item>a</item>
      <tag> VALUE='1'; </tag>
   </rule>
      
   <rule id="FORM_NAT_A_M">
      <item>a</item>
      <tag> VALUE='1'; </tag>
   </rule>
      
   <rule id="FORM_NAT_AND_MH">
      <item>and</item>
      <tag> VALUE='and'; </tag>
   </rule>
      
   <rule id="FORM_NAT_HUNDRED_MH">
      <item>hundred</item>
      <tag> VALUE='hundred'; </tag>
   </rule>
      
   <rule id="FORM_NAT_ONES_MH">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          ###########################
          # Counters for millions ##
          ###########################
          
   -->
      
   <rule id="FORM_NAT_ONES_MB">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_TEEN_MB">
      <one-of>
         <item>
            nineteen 
            <tag> VALUE='19'; </tag>
         </item>
         <item>
            eighteen 
            <tag> VALUE='18'; </tag>
         </item>
         <item>
            seventeen 
            <tag> VALUE='17'; </tag>
         </item>
         <item>
            sixteen 
            <tag> VALUE='16'; </tag>
         </item>
         <item>
            fifteen 
            <tag> VALUE='15'; </tag>
         </item>
         <item>
            fourteen 
            <tag> VALUE='14'; </tag>
         </item>
         <item>
            thirteen 
            <tag> VALUE='13'; </tag>
         </item>
         <item>
            twelve 
            <tag> VALUE='12'; </tag>
         </item>
         <item>
            eleven 
            <tag> VALUE='11'; </tag>
         </item>
         <item>
            ten 
            <tag> VALUE='10'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_TENS_MB">
      <one-of>
         <item>
            ninety 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eighty 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seventy 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            sixty 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            fifty 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            forty 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            thirty 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            twenty 
            <tag> VALUE='2'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="ZERO">
      <item>zero</item>
      <tag> VALUE='0'; </tag>
   </rule>
   <!--
        
          ##################
          # Decimal stuff ##
          ##################
          
   -->
      
   <rule id="FORM_NAT_DEC_M1">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
         <item>
            oh 
            <tag> VALUE='0'; </tag>
         </item>
         <item>
            zero 
            <tag> VALUE='0'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="FORM_NAT_DEC_M2">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
         <item>
            oh 
            <tag> VALUE='0'; </tag>
         </item>
         <item>
            zero 
            <tag> VALUE='0'; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          RUNTIME_CLASSES = $CUR_SINGLETON $CUR_AND $CUR_SUBDIV_COUNTER_ZERO;
          RUNTIME_CLASSES = $CUR_SUBDIV_COUNTER_TEEN $CUR_SUBDIV_COUNTER_TENS $CUR_SUBDIV_COUNTER_ONES;
          
   -->
      
   <rule id="ROOT">
      <item>
      <ruleref uri="#CURRENCY"/>
      <tag> _V1_1=CURRENCY.VALUE; AMBIG=CURRENCY.AMBIG; </tag>
</item>
      <tag>VALUE= _V1_1; if(CURRENCY.CODE) {CODE = CURRENCY.CODE;} else { CODE = '';} </tag>
   </rule>
   <!--
        
          RUNTIME_CLASSES = $CUR_ZERO_SUBDIV;
          ################################
          # Coverage issues:
          #  1) We overgenerate plural and single (e.g, allow one dollars, two dollar)
          #  2) We cover about 98% of macrophone dlramt training sentences.
          #     Examples not covered
          #     include
          #  a) "six point five dollars",
          #  b) "five dollars (even | exactly)"
          #  c)   amounts of million or more.
          #  d) six dollars seven (this maybe should be)
          #  e) no dollars and twelve cents
          # does allow "oh in place of zero, sometimes inappropriately
          # (oh dollars and five cents)
          ##################################
          ## Style definitions start here ##
          ##################################
          #############################################################
           The runtime classes PLURAL_SUBDIV_NAME, SINGLE_SUBDIV_NAME,
           PLURAL_UNIT_NAME, SINGLE_UNIT_NAME are added by the DM at creation
           and should not be set in the BNF. However, I will leave this stuff commented
           out because for purposes of evaluating accuracy, testing coverage, etc.
           these should be left in the evaluation BNF
          ########################################################
          # For now, don't make distinction between plural and single. Will
          # need to update natnum module to have natnum above one and natnum = one
          
   -->
      
   <rule id="PLURAL_SUBDIV_NAME">
      <one-of>
         <item>
            cents 
            <tag> VALUE='cents'; </tag>
         </item>
         <item>
            cent 
            <tag> VALUE='cent'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="SINGLE_SUBDIV_NAME">
      <item>cent</item>
      <tag> VALUE='cent'; </tag>
   </rule>
      
   <rule id="PLURAL_UNIT_NAME">
      <one-of>
         <item>
            bucks 
            <tag> VALUE='bucks'; CODE=''; </tag>
         </item>
         <item>
            buck 
            <tag> VALUE='buck'; CODE=''; </tag>
         </item>
         <item>
            U S dollars 
            <tag> VALUE='dollars'; CODE='USD'; </tag>
         </item>
         <item>
            U S dollar 
            <tag> VALUE='dollar'; CODE='USD'; </tag>
         </item>
         <item>
            dollars 
            <tag> VALUE='dollars'; CODE=''; </tag>
         </item>
         <item>
            dollar 
            <tag> VALUE='dollar'; CODE=''; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="SINGLE_UNIT_NAME">
      <one-of>
         <item>
            buck 
            <tag> VALUE='buck'; CODE=''; </tag>
         </item>
         <item>
            U S dollar 
            <tag> VALUE='dollar'; CODE='USD'; </tag>
         </item>
         <item>
            dollar 
            <tag> VALUE='dollar'; CODE=''; </tag>
         </item>
      </one-of>
   </rule>
   <!--    #######################################################################  -->
      
   <rule id="NATNUM">
      <one-of>
         <item>
            <ruleref uri="#FORM_NATNUM"/>
            <tag> VALUE=FORM_NATNUM.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#COLLOQ_NATNUM"/>
            <tag> VALUE=COLLOQ_NATNUM.VALUE; AMBIG=1; </tag>
         </item>
         <item>
            <ruleref uri="#FRACTIONAL_NATNUM"/>
            <tag> VALUE=FRACTIONAL_NATNUM.VALUE; </tag>
         </item>
         <item>
            <ruleref uri="#DECIMAL_NATNUM"/>
            <tag> VALUE=DECIMAL_NATNUM.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          # e.g.     "five dollars and ten cents"  "five dollars"   "five cents"
          # e.g.    five twenty five = 5 2 5 0 0  five twenty five = 0 5 2 5
          
   -->
      
   <rule id="CURRENCY">
      <one-of>
         <item weight=".337">
            <ruleref uri="#NO_NAMES_MEANS_UNITS"/>
            <tag> VALUE=NO_NAMES_MEANS_UNITS.VALUE;              AMBIG=NO_NAMES_MEANS_UNITS.AMBIG</tag>
         </item>
         <item weight=".022">
            <ruleref uri="#NO_NAMES_MEANS_SUBDIVS"/>
            <tag> VALUE=NO_NAMES_MEANS_SUBDIVS.VALUE; </tag>
         </item>
         <item weight=".227">
            <ruleref uri="#UNITS_AND_SUBDIVS"/>
            <tag> VALUE=UNITS_AND_SUBDIVS.VALUE; CODE=UNITS_AND_SUBDIVS.CODE; </tag>
         </item>
         <item weight=".409">
            <ruleref uri="#UNITS_ONLY"/>
            <tag> VALUE=UNITS_ONLY.VALUE; CODE=UNITS_ONLY.CODE;</tag>
         </item>
         <item weight=".006">
            <ruleref uri="#SUBDIVS_ONLY"/>
            <tag> VALUE=SUBDIVS_ONLY.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #        "one two three four" | "five point six dollars (not done for now)"
          # $CURRENCY = $DIGITS | $DECIMAL
          # e.g., five dollars and ten cents
          ##################################
          ## Value definitions start here ##
          ##################################
          "four hundred twelve thousand five hundred and sixty dollars and ten cents"
          "four hundred twelve thousand five hundred and sixty dollars ten cents"
           I don't like the following but it happens once in a while in macrophone
           I am making the "and" obligatory here.
          "one thousand four hundred and twenty four and ninety six cents"
          #############################################
          #### Some special cases for a single dollar #
          #############################################
           "a dollar and twenty two cents"
           "a dollar twenty two"
           "dollar and twenty two cents"
           "dollar twenty two"
           "a dollar"
           "dollar"
          
   -->
      
   <rule id="UNITS_AND_SUBDIVS">
      <one-of>
         <item weight=".02">
            <ruleref uri="#SINGLE_UNIT_NAME"/>
            <tag> VALUE='1.00'; CODE= SINGLE_UNIT_NAME.CODE; </tag>
         </item>
         <item weight=".02">
            <ruleref uri="#CUR_SINGLETON"/>
            <ruleref uri="#SINGLE_UNIT_NAME"/>
            <tag> VALUE='1.00'; CODE= SINGLE_UNIT_NAME.CODE; </tag>
         </item>
         <item weight=".02">
            <ruleref uri="#SINGLE_UNIT_NAME"/>
            <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
            <tag> VALUE='1. ';            CODE= SINGLE_UNIT_NAME.CODE
                  try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".02">
            <ruleref uri="#SINGLE_UNIT_NAME"/>
            <ruleref uri="#CUR_AND"/>
            <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
            <ruleref uri="#PLURAL_SUBDIV_NAME"/>
            <tag> VALUE='1. ';            CODE= SINGLE_UNIT_NAME.CODE
                  try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".02">
            <ruleref uri="#CUR_SINGLETON"/>
            <ruleref uri="#SINGLE_UNIT_NAME"/>
            <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
            <tag> VALUE='1. ';            CODE= SINGLE_UNIT_NAME.CODE
                  try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".02">
            <ruleref uri="#CUR_SINGLETON"/>
            <ruleref uri="#SINGLE_UNIT_NAME"/>
            <ruleref uri="#CUR_AND"/>
            <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
            <ruleref uri="#PLURAL_SUBDIV_NAME"/>
            <tag> VALUE='1. ';            CODE= SINGLE_UNIT_NAME.CODE
                  try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".03">
            <ruleref uri="#FORM_NATNUM"/>
            <ruleref uri="#CUR_AND"/>
            <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
            <ruleref uri="#PLURAL_SUBDIV_NAME"/>
            <tag> VALUE=''
                  try {VALUE+=FORM_NATNUM.VALUE; } catch(e){} finally {}
                  VALUE+=(' . ')
                  try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".138">
            <ruleref uri="#FORM_NATNUM"/>
            <ruleref uri="#PLURAL_UNIT_NAME"/>
            <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
            <ruleref uri="#PLURAL_SUBDIV_NAME"/>
            <tag> CODE = PLURAL_UNIT_NAME.CODE
                  VALUE=''
                  try {VALUE+=FORM_NATNUM.VALUE; } catch(e){} finally {}
                  VALUE+=(' . ')
                  try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".720">
            <ruleref uri="#FORM_NATNUM"/>
            <ruleref uri="#PLURAL_UNIT_NAME"/>
            <ruleref uri="#CUR_AND"/>
            <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
            <ruleref uri="#PLURAL_SUBDIV_NAME"/>
            <tag> CODE = PLURAL_UNIT_NAME.CODE
                  VALUE=''
                  try {VALUE+=FORM_NATNUM.VALUE; } catch(e){} finally {}
                  VALUE+=(' . ')
                  try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
            </tag>
         </item>
      </one-of>
   </rule>
   <!--    # $ZERO and no included for things like "one dollar and no cents"  -->
      
   <rule id="PLURAL_SUBDIV_COUNTER">
      <one-of>
         <item weight=".04">
            <ruleref uri="#CUR_SUBDIV_COUNTER_ZERO"/>
            <tag> VALUE='00'; </tag>
         </item>
         <item weight=".165">
            <ruleref uri="#CUR_TENS_SUBDIV"/>
            <tag> VALUE=''
                  try {VALUE+=CUR_TENS_SUBDIV.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0'); 
            </tag>
         </item>
         <item weight=".104">
            <ruleref uri="#CUR_ONES_SUBDIV"/>
            <tag> VALUE='0 '
                  try {VALUE+=CUR_ONES_SUBDIV.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".550">
            <ruleref uri="#CUR_TENS_SUBDIV"/>
            <tag> _V1_1=CUR_TENS_SUBDIV.VALUE; </tag>
            <ruleref uri="#CUR_ONES_SUBDIV"/>
            <tag> _V1_2=CUR_ONES_SUBDIV.VALUE; </tag>
            <tag>VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
         <item weight=".141">
            <ruleref uri="#CUR_TEEN_SUBDIV"/>
            <tag> VALUE=CUR_TEEN_SUBDIV.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          
          ###########################
          
   -->
      
   <rule id="UNITS_ONLY_STYLES">
      <one-of>
         <item weight=".98">
            <ruleref uri="#FORM_NATNUM"/>
            <tag> VALUE=FORM_NATNUM.VALUE; </tag>
         </item>
         <item weight=".01">
            <ruleref uri="#FRACTIONAL_NATNUM"/>
            <tag> VALUE=FRACTIONAL_NATNUM.VALUE; </tag>
         </item>
         <item weight=".01">
            <ruleref uri="#DECIMAL_NATNUM"/>
            <tag> VALUE=DECIMAL_NATNUM.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--    # "four hundred twelve thousand five hundred and sixty dollars"  -->
      
   <rule id="UNITS_ONLY">
      <ruleref uri="#UNITS_ONLY_STYLES"/>
      <ruleref uri="#PLURAL_UNIT_NAME"/>
      <tag> CODE = PLURAL_UNIT_NAME.CODE
            VALUE=''
            try {VALUE+=UNITS_ONLY_STYLES.VALUE; } catch(e){} finally {}
            VALUE+=(' .00'); 
      </tag>
   </rule>
   <!--    # "five cents"  -->
      
   <rule id="SUBDIVS_ONLY">
      <ruleref uri="#PLURAL_SUBDIV_COUNTER"/>
      <ruleref uri="#PLURAL_SUBDIV_NAME"/>
      <tag> VALUE='0. '
            try {VALUE+=PLURAL_SUBDIV_COUNTER.VALUE; } catch(e){} finally {};
      </tag>
   </rule>
   <!--
        
          # "six twenty five four sixty four" _> 6 2 5 4 6 4 0 0 (COLLOQ_NATNUM)
          # "six hundred twenty five thousand four hundred sixty four" _> 6 2 5 4 6 4 0 0 (FORM_NATNUM)
          #
          
   -->
      
   <rule id="NO_NAMES_MEANS_UNITS">
      <ruleref uri="#NATNUM"/>
      <tag> VALUE=''
            try {VALUE+=NATNUM.VALUE; } catch(e){} finally {}
            VALUE+=(' .00'); AMBIG=NATNUM.AMBIG;
      </tag>
   </rule>
   <!--
        
          # "eight sixty four" _> 8 6 4
          ## I changed this from NATNUM to NO_NAMES_MEANS_SUBDIV_NATNUM to avoid two cases:
          ## "zero twenty four" and "fourteen hundred twenty four", which I am assuming
          ## is mapped to $1424.00. The FULL_TWO_DIG_HUNDREDS allows me to avoid this
          
   -->
      
   <rule id="NO_NAMES_MEANS_SUBDIVS">
      <ruleref uri="#NO_NAMES_MEANS_SUBDIV_NATNUM"/>
      <ruleref uri="#CUR_COLLOQ_SUBDIV"/>
      <tag> VALUE=''
            try {VALUE+=NO_NAMES_MEANS_SUBDIV_NATNUM.VALUE; } catch(e){} finally {}
            VALUE+=(' . ')
            try {VALUE+=CUR_COLLOQ_SUBDIV.VALUE; } catch(e){} finally {};
      </tag>
   </rule>
      
   <rule id="NO_NAMES_MEANS_SUBDIV_NATNUM">
      <one-of>
         <item weight=".119">
            <ruleref uri="#MILLIONS_PART_H"/>
            <tag> VALUE=MILLIONS_PART_H.VALUE; </tag>
         </item>
         <item weight=".143">
            <ruleref uri="#THOUSANDS_PART_H"/>
            <tag> VALUE=THOUSANDS_PART_H.VALUE; </tag>
         </item>
         <item weight=".119">
            <ruleref uri="#TWO_DIG_PART_HUNDREDS"/>
            <tag> VALUE=TWO_DIG_PART_HUNDREDS.VALUE; </tag>
         </item>
         <item weight=".333">
            <ruleref uri="#COLLOQ_NATNUM"/>
            <tag> VALUE=COLLOQ_NATNUM.VALUE; </tag>
         </item>
         <item weight=".286">
            <ruleref uri="#PART_HUNDREDS"/>
            <tag> VALUE=PART_HUNDREDS.VALUE; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #######################################################################
          # This is essentially the same grammar as $COLLOQ_BELOW_HUNDRED       #
          # as defined in form_natnum.inc but since that one can be used        #
          # in the UNITS amount, I wanted a specific designation for the SUBDIV #
          # amount                                                              #
          # "fifteen", "forty three"                                            #
          #######################################################################
          # "oh three"
          
   -->
      
   <rule id="CUR_COLLOQ_SUBDIV">
      <one-of>
         <item weight=".162">
            <ruleref uri="#CUR_TENS_SUBDIV"/>
            <tag> VALUE=''
                  try {VALUE+=CUR_TENS_SUBDIV.VALUE; } catch(e){} finally {}
                  VALUE+=(' 0'); 
            </tag>
         </item>
         <item weight=".189">
            <ruleref uri="#CUR_ZERO_SUBDIV"/>
            <ruleref uri="#CUR_ONES_SUBDIV"/>
            <tag> VALUE='0 '
                  try {VALUE+=CUR_ONES_SUBDIV.VALUE; } catch(e){} finally {};
            </tag>
         </item>
         <item weight=".216">
            <ruleref uri="#CUR_TEEN_SUBDIV"/>
            <tag> VALUE=CUR_TEEN_SUBDIV.VALUE; </tag>
         </item>
         <item weight=".432">
            <ruleref uri="#CUR_TENS_SUBDIV"/>
            <tag> _V1_1=CUR_TENS_SUBDIV.VALUE; </tag>
            <ruleref uri="#CUR_ONES_SUBDIV"/>
            <tag> _V1_2=CUR_ONES_SUBDIV.VALUE; </tag>
            <tag>VALUE= _V1_1 + ' ' + _V1_2; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          #############
           LITERALS  ##
          #############
          
   -->
      
   <rule id="CUR_SINGLETON">
      <item>a</item>
      <tag> VALUE='a'; </tag>
   </rule>
      
   <rule id="CUR_AND">
      <item>and</item>
      <tag> VALUE='and'; </tag>
   </rule>
      
   <rule id="CUR_SUBDIV_COUNTER_ZERO">
      <one-of>
         <item>
            zero 
            <tag> VALUE='zero'; </tag>
         </item>
         <item>
            no 
            <tag> VALUE='no'; </tag>
         </item>
      </one-of>
   </rule>
   <!--
        
          $CUR_SUBDIV_COUNTER_TEEN = ten; VALUE = "10";
          $CUR_SUBDIV_COUNTER_TEEN = eleven; VALUE = "11";
          $CUR_SUBDIV_COUNTER_TEEN = twelve; VALUE = "12";
          $CUR_SUBDIV_COUNTER_TEEN = thirteen; VALUE = "13";
          $CUR_SUBDIV_COUNTER_TEEN = fourteen; VALUE = "14";
          $CUR_SUBDIV_COUNTER_TEEN = fifteen; VALUE = "15";
          $CUR_SUBDIV_COUNTER_TEEN = sixteen; VALUE = "16";
          $CUR_SUBDIV_COUNTER_TEEN = seventeen; VALUE = "17";
          $CUR_SUBDIV_COUNTER_TEEN = eighteen; VALUE = "18";
          $CUR_SUBDIV_COUNTER_TEEN = nineteen; VALUE = "19";
          $CUR_SUBDIV_COUNTER_TENS = twenty; VALUE = 2;
          $CUR_SUBDIV_COUNTER_TENS = thirty; VALUE = 3;
          $CUR_SUBDIV_COUNTER_TENS = forty; VALUE = 4;
          $CUR_SUBDIV_COUNTER_TENS = fifty; VALUE = 5;
          $CUR_SUBDIV_COUNTER_TENS = sixty; VALUE = 6;
          $CUR_SUBDIV_COUNTER_TENS = seventy; VALUE = 7;
          $CUR_SUBDIV_COUNTER_TENS = eighty; VALUE = 8;
          $CUR_SUBDIV_COUNTER_TENS = ninety; VALUE = 9;
          $CUR_SUBDIV_COUNTER_ONES = one; VALUE = 1;
          $CUR_SUBDIV_COUNTER_ONES = two; VALUE = 2;
          $CUR_SUBDIV_COUNTER_ONES = three; VALUE = 3;
          $CUR_SUBDIV_COUNTER_ONES = four; VALUE = 4;
          $CUR_SUBDIV_COUNTER_ONES = five; VALUE = 5;
          $CUR_SUBDIV_COUNTER_ONES = six; VALUE = 6;
          $CUR_SUBDIV_COUNTER_ONES = seven; VALUE = 7;
          $CUR_SUBDIV_COUNTER_ONES = eight; VALUE = 8;
          $CUR_SUBDIV_COUNTER_ONES = nine; VALUE = 9;
          
   -->
      
   <rule id="CUR_TEEN_SUBDIV">
      <one-of>
         <item>
            nineteen 
            <tag> VALUE='19'; </tag>
         </item>
         <item>
            eighteen 
            <tag> VALUE='18'; </tag>
         </item>
         <item>
            seventeen 
            <tag> VALUE='17'; </tag>
         </item>
         <item>
            sixteen 
            <tag> VALUE='16'; </tag>
         </item>
         <item>
            fifteen 
            <tag> VALUE='15'; </tag>
         </item>
         <item>
            fourteen 
            <tag> VALUE='14'; </tag>
         </item>
         <item>
            thirteen 
            <tag> VALUE='13'; </tag>
         </item>
         <item>
            twelve 
            <tag> VALUE='12'; </tag>
         </item>
         <item>
            eleven 
            <tag> VALUE='11'; </tag>
         </item>
         <item>
            ten 
            <tag> VALUE='10'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="CUR_TENS_SUBDIV">
      <one-of>
         <item>
            ninety 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eighty 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seventy 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            sixty 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            fifty 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            forty 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            thirty 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            twenty 
            <tag> VALUE='2'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="CUR_ONES_SUBDIV">
      <one-of>
         <item>
            nine 
            <tag> VALUE='9'; </tag>
         </item>
         <item>
            eight 
            <tag> VALUE='8'; </tag>
         </item>
         <item>
            seven 
            <tag> VALUE='7'; </tag>
         </item>
         <item>
            six 
            <tag> VALUE='6'; </tag>
         </item>
         <item>
            five 
            <tag> VALUE='5'; </tag>
         </item>
         <item>
            four 
            <tag> VALUE='4'; </tag>
         </item>
         <item>
            three 
            <tag> VALUE='3'; </tag>
         </item>
         <item>
            two 
            <tag> VALUE='2'; </tag>
         </item>
         <item>
            one 
            <tag> VALUE='1'; </tag>
         </item>
      </one-of>
   </rule>
      
   <rule id="CUR_ZERO_SUBDIV">
      <one-of>
         <item>
            zero 
            <tag> VALUE='zero'; </tag>
         </item>
         <item>
            oh 
            <tag> VALUE='oh'; </tag>
         </item>
      </one-of>
   </rule>

</grammar>

